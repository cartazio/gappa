<section>
<title>Input sections</title>
</section>

<section>
<title>Preferred expressions</title>

<para>Gappa rewrites expressions by matching them with well-known patterns. The
enclosure of an unmatchable expression will necessarily have to be computed
through interval arithmetic. As a consequence, to ensure that the expressions
will benefit from as much rewriting as possible, special care needs to be taken
when expressing the computational errors.</para>

<section>
<title>Absolute and relative errors</title>

<para>Let <code>exact</code> be an arithmetic expression and <code>approx</code>
an approximation of <code>exact</code>. The approximation usually contains
rounding operators while the exact expression does not. The absolute error
between these two expressions is their difference: <code>approx - exact</code>.
The relative error is the quotient between the absolute error and the exact
value: <code>(approx - exact) / exact</code>.</para>

<para>Writing the errors differently will prevent Gappa from applying theorems
on rounding errors: <code>-(x - o(x))</code> may lead to a worse enclosure than
<code>o(x) - x</code>.</para>
</section>

<section>
<title>Global errors</title>

<para>The <code>approx</code> and <code>exact</code> expressions need to have
a similar structure in order for the rewriting rules to kick in. E.g. if
<code>exact</code> is a sum of two terms <code>a</code> and <code>b</code>,
then <code>approx</code> has to be the sum of two terms <code>c</code> and
<code>d</code> such that <code>c</code> and <code>d</code> are approximations
of <code>a</code> and <code>b</code> respectively.</para>

<para>Indeed the rewriting rule for the absolute error of the addition is:
<code>(a + b) - (c + d) -&gt; (a - c) + (b - d)</code>. Similarly, the
rewriting rules for the multiplication keep the same ordering of the sub-terms.
For example, one of the rules is:
<code>a * b - c * d -&gt; (a - c) * b + c * (b - d)</code>.</para>

<para>If the two sides of an error expression do not have a similar structure,
a user rewriting rule will have to be added in order to put them in a suitable
state.</para>
</section>

</section>
